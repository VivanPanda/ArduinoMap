"use strict";(self.webpackChunkarduinomap=self.webpackChunkarduinomap||[]).push([[478],{4222:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/pwm_pins-c0a72e121bdc1ca4426e90f499c9a2de.png"},4470:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/pwm_signal-fc5629af16a399d51e5df64ad32debb3.png"},7929:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"week-1/understanding-pwm","title":"Understanding PWM","description":"Until now, we have learnt how to turn an LED either fully on (by supplying 5V), or off (by supplying 0V). Pulse Width Modulation (PWM) is useful in many different applications, but for now, just remember it can be used to vary the brightness of an LED.","source":"@site/docs/week-1/understanding-pwm.md","sourceDirName":"week-1","slug":"/week-1/understanding-pwm","permalink":"/arduinomap/week-1/understanding-pwm","draft":false,"unlisted":false,"editUrl":"https://github.com/vivanpanda/arduinomap/tree/main/docs/week-1/understanding-pwm.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"The Serial Monitor","permalink":"/arduinomap/week-1/the-serial-monitor"},"next":{"title":"The RGB LED","permalink":"/arduinomap/week-1/rgb-led"}}');var t=i(4848),r=i(8453);const a={sidebar_position:3},l="Understanding PWM",o={},d=[{value:"What is PWM?",id:"what-is-pwm",level:2},{value:"Duty cycle",id:"duty-cycle",level:3},{value:"Using PWM with an LED",id:"using-pwm-with-an-led",level:2},{value:"<code>analogWrite()</code>",id:"analogwrite",level:3},{value:"Assignment",id:"assignment",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"understanding-pwm",children:"Understanding PWM"})}),"\n",(0,t.jsxs)(n.p,{children:["Until now, we have learnt how to turn an LED either fully on (by supplying ",(0,t.jsx)(n.strong,{children:"5V"}),"), or off (by supplying ",(0,t.jsx)(n.strong,{children:"0V"}),"). Pulse Width Modulation (PWM) is useful in many different applications, but for now, just remember it can be used to vary the brightness of an LED."]}),"\n",(0,t.jsx)(n.h2,{id:"what-is-pwm",children:"What is PWM?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Pulse-width_modulation",children:"Pulse Width Modulation (PWM)"})," is a technique which generates a continous ",(0,t.jsx)(n.code,{children:"HIGH"})," and ",(0,t.jsx)(n.code,{children:"LOW"})," alternating signal by turning a pin on and off extremely fast."]}),"\n",(0,t.jsx)(n.p,{children:"PWM works by sending a PWM signal, which is essentially a square wave. This is what a PWM signal looks like:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"PWM signal",src:i(4470).A+"",width:"1318",height:"758"})}),"\n",(0,t.jsxs)(n.p,{children:["As you can see, the wave spends a varying amount of time in 5V and 0V which represent the ",(0,t.jsx)(n.code,{children:"HIGH"})," and ",(0,t.jsx)(n.code,{children:"LOW"})," states respectively. There are a few terms in the diagram above that you should understand:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["t",(0,t.jsx)("sub",{children:"H"})]})," - time for which the signal is ",(0,t.jsx)(n.code,{children:"HIGH"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["t",(0,t.jsx)("sub",{children:"L"})]})," - time for which the signal is ",(0,t.jsx)(n.code,{children:"LOW"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"T"})," (Period) - total time for which the signal is ",(0,t.jsx)(n.code,{children:"HIGH"})," and ",(0,t.jsx)(n.code,{children:"LOW"}),". Therefore, it is t",(0,t.jsx)("sub",{children:"H"})," + t",(0,t.jsx)("sub",{children:"L"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"duty-cycle",children:"Duty cycle"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Duty_cycle",children:"duty cycle"})," is the fraction of time for which a signal stays ",(0,t.jsx)(n.code,{children:"HIGH"})," (",(0,t.jsxs)(n.strong,{children:["t",(0,t.jsx)("sub",{children:"H"})]}),") during one complete period (",(0,t.jsx)(n.strong,{children:"T"}),"). Essentially, it tells us how long the pin stays on compared to how long it stays off. Therefore,"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.strong,{children:"100% duty cycle"})," would mean that an LED is fully on."]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.strong,{children:"50% duty cycle"})," would mean that an LED is dim."]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.strong,{children:"0% duty cycle"})," would mean that an LED is always off."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-pwm-with-an-led",children:"Using PWM with an LED"}),"\n",(0,t.jsxs)(n.p,{children:["We can use PWM to vary the brightness of an LED by writing an ",(0,t.jsx)(n.strong,{children:"analog"})," value (PWM signal) to a pin. Note that not all pins are capable of supporting PWM. We have to use pins that are marked with a ",(0,t.jsx)(n.code,{children:"~"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"PWM supported pins",src:i(4222).A+"",width:"1142",height:"1110"})}),"\n",(0,t.jsx)(n.h3,{id:"analogwrite",children:(0,t.jsx)(n.code,{children:"analogWrite()"})}),"\n",(0,t.jsxs)(n.p,{children:["To write a PWM signal to a pin, we use the ",(0,t.jsx)(n.a,{href:"https://docs.arduino.cc/language-reference/en/functions/analog-io/analogWrite/",children:(0,t.jsx)(n.code,{children:"analogWrite()"})})," function."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"analogWrite(pin, value);\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"value"})," represents the duty cycle - between 0 (always off) and 255 (always on). This is because Arduino uses an 8-bit resolution for the ",(0,t.jsx)(n.code,{children:"analogWrite()"})," function. This means that:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"analogWrite(pin, 0)"})," results in a 0% duty cycle."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"analogWrite(pin, 255)"})," results in a 100% duty cycle."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{title:"Example",type:"tip",children:[(0,t.jsxs)(n.p,{children:["Let's try to create an example program where we dim an LED and then increase the brightness. The following example has the LED connected to pin ",(0,t.jsx)(n.code,{children:"~9"})," since it supports PWM."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"void setup() {\n  pinMode(9, OUTPUT);\n}\n\nvoid loop() {\n  analogWrite(9, 50);   // Dim light\n  delay(1000);\n  analogWrite(9, 200);  // Increase brightness\n  delay(1000);\n}\n"})})]}),"\n",(0,t.jsx)(n.h2,{id:"assignment",children:"Assignment"}),"\n",(0,t.jsx)(n.admonition,{title:"Your Turn",type:"info",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Connect an LED to a pin on your Arduino board that supports PWM. Ensure you hook up your circuit correctly."}),"\n",(0,t.jsxs)(n.li,{children:["Write a program to fade the LED on and off using the ",(0,t.jsx)(n.code,{children:"analogWrite()"})," function you have learnt. Hint: you will have to use a ",(0,t.jsx)(n.code,{children:"for"})," loop."]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"This section includes links to help you dive deeper into the topics from this lesson. It's optional, so don't worry if you choose to skip it."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=YmPziPfaByw",children:"This video"})," explains PWM well. Check it out."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);